<md-card>
	<md-card-title>{{game?.title}}</md-card-title>
	<md-card-actions>
		<a
			md-button
			[routerLink]="[
				'/games',
				{outlets: {
				detail: null
				}}
			]"
		>Back</a>
		<button md-raised-button (click)="renameGame(game)">Rename</button>
		<button md-raised-button (click)="removeGame(game)">Remove</button>
		<md-select
			[ngModel]="game?.state"
			placeholder="Game state"
			(ngModelChange)="setGameState(game, $event)"
		>
			<md-option
				*ngFor="let state of states"
				[value]="state.id"
				[id]="state.id"
			>
				{{state.name}}
			</md-option>
		</md-select>
	</md-card-actions>
	<md-card-subtitle>Sessions:</md-card-subtitle>
	<md-card-content>
		<md-list>
			<div *ngFor="let session of game?.sessions;trackBy: session?.start">
				<md-list-item class="session">
					<span class="column">
						{{ session.start|date:"MMM d, y HH:mm" }}
					</span>
					<span class="column">
						{{ (session.stop?session.stop:undefined)|date:"MMM d, y HH:mm" }}
					</span>
					<span class="column">
						{{ (session.stop - session.start)|duration }}
					</span>
				</md-list-item>
				<md-divider></md-divider>
			</div>
		</md-list>
	</md-card-content>
</md-card>
<button
	md-fab
	(click)="isRunning(game)?stopGame(game):startGame(game)"
>
	<md-icon class="md-24">{{ isRunning(game) ? 'pause' : 'play_arrow' }}</md-icon>
</button>